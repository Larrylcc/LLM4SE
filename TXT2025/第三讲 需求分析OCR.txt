软件工程第 三讲
需求分析
汇报人：张逍怡
_ —八厂
2软件工程
第二部分  结构化方法学
需求分析
3.1  概述
3.2 需求分析 目标与任务
3.3 需求获取方法
3.4 需求建模及其工具
3.5 需求描述与评审
3.6 需求管理
3.1 概述
▪基于计算机的系统的系统元素包括硬件、软件、人、数据库、文档和
过程。
▪一般的需求定义 :
指明系统 必须实现什么 的规格说明，描述了系统的行为、特性或属
性，是在开发过程中对系统的约束。
▪需求工程包括 需求分析 与需求管理 两部分。
3_ 
◼软件需求分析过程：
4可行性研究 求导出和分
可行性报告
系统模型需求描述
用户需求和
功能需求求有效性验
需求文档
3.2 需求分析目标与任务
◼需求分析是一项软件工程活动，两个主要的目标是： 建立分析模型 和
规格说明 。具体说来：
✓清楚地理解所要解决的问题，完整地 获取用户要求 ；
✓刻划出软件的 功能和性能；
✓指明软件与其他系统元素的 接口；
✓建立软件必须满足的 约束。
5_ 
◼软件需求分析是一项软件工程活动。包括如下需求分析的任务：
✓需求获取
✓需求建模
✓规格说明
✓需求验证
6_ 
◼需求获取
✓ 刻划出软件的 功能、性能、可靠性与可用性、出错处理、未
来可能的需求；
✓ 指明软件与其他系统元素的 接口；
✓ 建立软件必须满足的 约束。
7_ 
◼需求建模
✓需求分析通常要建立分析模型，包括 数据模型 、逻辑模型 和行为
模型。
✓这些模型为软件设计人员提供了可被翻译成 数据、体系结构 、接
口和处理过程 设计的模型。
▪需求规格说明
✓需求规格说明为开发人员和用户提供软件开发完成时质量评价的
依据。
8_ 
▪需求验证
✓需求分析研究的对象是 用户的要求 。
✓必须全面理解 用户的各项要求， 准确表达 被接受的用户要求。
✓只有经过确切描述的软件需求才能成为软件设计的基础。  
9_ 
3.3 需求获取
◼需求获取的目的 是清楚地理解所要解决的问题，完整地获得用户的
需求。需求获取是在问题及其最终解决方案之间架设桥梁的第一步。
◼获取需求的一个必不可少的结果是对项目中描述的客户需求的 普遍
理解。一旦理解了需求，分析者、开发者和客户就能探索出描述这
些需求的多种解决方案。
10_ 
1. 软件需求的层次
▪业务需求     反映了组织或客户对系统、产品高层次的目标要求，它们
一般在项目视图和范围文档中给予说明。
▪用户需求     描述用户使用软件需要完成哪些任务，它们可通过使用实
例图或脚本说明加以阐明。
▪功能―非功能需求     定义了开发者必须实现的软件功能，而非功能需
求如表所示 :业务需求  
11_ 
 
 
 
产
品
要
求 性能要求  实时性 ; 其他时间要求， 如响应时间、 处理时
间、包传送时间等 ; 资源配置要求 ; 精确度、
处理量等要求  
可靠性要求  有效性 ; 数据完整性  
安全保密要求  安全性 ; 保密性  
运行要求  使用频度、 运行期限 ; 控制方式 ; 对操作员要
求 
物理要求  系统的规模等  
过
程
要
求 开发类型  实用性开发或试验性开发  
项目估算  开发工作量估计  
开发方法  质量控制标准 ; 里程碑和评审 ; 验收标准  
优先顺序  权衡各种质量目标要求，排定优先实现次序  
可维护性  可理解性、可测试性、可 修改性、可移植性  
 
 
 12
132. 需求获取应遵循的原则
◼抽象和分解是在人们认识世界和改造世界的长期实践中总结出来的
行之有效的原则，在需求获取的过程中需遵循的三个原则：
a.分解：捕获问题空间的 整体  –部分关系 。如问题／子问题分解；
b.抽象：捕获问题空间的 一般化  –特殊化关系 。如问题的不同变型；
c.投影：捕获问题空间的 多维视图 。即从不同角度考察。_ 
143. 需求获取的步骤
◼软件开发项目和组织文化的不同，对于需求开发没有一个简单的、公
式化的途径。
◼信息系统的需求获取通常包括如下 9个步骤 :
1)定义项目的视图和范围     包括组织结构图、各部门的岗位 /角色列表。
2)确定用户类     包括人员 /责任矩阵。
3)确定目标系统的业务工作流     包括物流、资金流、信息流，建立业
务工作流模型 。_ 
154)运用需求获取技术 开发反映主要业务规则的 数据流图 并设置优先级。  
5)收集来自用户的 质量特性信息 和其他非功能需求   将性能、安全性、
可靠性等需求和其他设计约束结合业务规则，形成功能需求。
6)分类在数据流图中涉及的数据     包括数据的组成和数据之间的关系。
7)详细拟订数据流图的规格说明   建立功能模型，并进行审查，用以
澄清需求获取的参与者对需求的理解。
168)开发并评估界面原型     设想输入设备、输出设备、显示风格、显示
方式、输出格式等，建立接口规范和信息流传输规则。
9)从功能描述中开发概念测试用例     用测试用例来验证数据流图、功
能需求和原型。_ 
174. 需求整理与表达的方法
◼采用穷举方法 可以避免遗漏。
◼采用归纳方法 ，通过对各种情况进行综合分类可以使问题条理化。
◼采用抽象方法 ，可以发现问题的实质，抓住问题的主要矛盾，忽略其
次要矛盾。
◼需求整理可以多种手段共用，如组织结构图、业务流程图、多叉树、
关系矩阵、文字叙述、表格、图形等。_ 
18◼需求获取可能是软件开发中 最困难、最关键、最易出错 及最
需要交流 的方面。表现在：
✓需求的不稳定性 ：在整个软件生存周期内软件需求会随
着时间的推移发生变化；
✓需求的不准确性 ：用户和开发人员的认识会随着使用系
统实现业务流程的实践逐步提高，一开始不可能设想得面
面俱到。
◼需求获取只有通过有效的 客户 /开发者的合作 才能成功。  5. 需求获取技术的基本特征_ 
19◼好的需求获取技术，对于规范需求获取活动，高效准确地获取需求定
义，是十分重要的。
◼好的需求获取技术，应具有如下基本特征：
✓提供便于沟通 的工具，如易于理解的语言和直观的图表；
✓提供定义系统边界 （交互）的方法；
✓提供支持抽象的机制 ，如“分解”、“映射”等；
✓鼓励分析员 使用面向问题的术语 思考问题，编写文档；
✓为分析员提供多种可供选择的解决方案；
✓适应需求的变化。_ 
20◼ 需求获取技术的关键点在于：
a. 深入浅出
✓需求获取要尽可能全面 、细致。
✓获取的需求是个 全集，系统真正实现的是个 子集。分析时的
调研内容并不都纳入到新系统中 ，目的在于以后的扩充 。_ 
21b.以流程为主线
✓在与用户交流的过程中 ，应该用流程将所有的内容串起来 。
如信息、组织结构 、处理规则等 。这样便于交流沟通 。
✓流程描述有宏观 ，也有微观 。既要强调总体的业务流程 、
全生存周期的业务流程 ，又要对流程细化 ，有分支的业务
流程。
226.常用的需求获取技术
1.访谈  
   最早开始使用的获取用户需求的技术 ，也是迄今为止仍然 广泛使用
的需求分析技术 。访谈有两种基本形式 :
✓正式访谈时，系统分析员将提出一些事先准备好的具体问题。 →
言之有物
✓在非正式访谈中，分析员将提出一些用户可以自由回答的开放性
问题，以鼓励被访问人员说出自己的想法。 →头脑风暴  ，记录
  访谈中经常使用 调查表、情景分析技术 。
232.面向数据流自顶向下求精  (结构化分析 )
可行性研究得到目标系统的高层数据流图 ，需求分析则需将 数据流和数
据存储定义到元素级 。
面向数据流自顶向下求精过程有补充
修正
无补充
修正 不需分解
243.快速原型化方法
     快速原型化方法是 最准确、最有效、最强大的需求分析技术 。
     构建原型的要点 :实现用户看得见的功能 ，省略目标系统的 “隐含”
功能。
     构建原型应具备 “快速”和“容易修改 ”等特性。
    构建原型常采用  “可重用的软件构件 ”、“形式化规格说明和原型环
境”等技术与工具 。_ 
253.4 需求建模及其工具
◼需求建模是为了分析需求，以确定项目的 确切需求 。
◼需求建模遵循三个原则：
✓ 划分：描述需求的整体 –部分关系；
✓ 抽象：描述需求的一般化 –特殊化关系；
✓ 投影：描述需求的多维视图；
◼定义系统模型要区分逻辑模型和物理模型。_ 
26
«goal» 
Provide customers with a competitive 
online shopping experience 仁
(fro巾\,oa fs)
I 
I 
I 
«trace» . 
I 
I Requirements tra cea回itycan be 
used to keep track of hO\I八hings
are related in the models, from 
妇highestlevel business goa Is 
down价roughuser 
requirements, functional I 
requirements and Use Cases. In 
价isdiagram the user interface 
screens and a Component show 
how the Use Cases are realized. 
REQ014 -Shopping Basket 
The system must provide a shopping Basket 
facility that remembers the contents betweE!'l 
sessions. 
^]
IIII 入
I
I
II(fram Toke Orders) 
(from Browse Catalogue) «realize» 
(fromT 吹\>Orders) 
I 
I 
I 
«trace» , 
I 
I --------` «trace)) 
» e c 11
_a
III i
r T
t m
« 。仿
(from View Basket) 
BasketManager 
requJrements 
Manages addition and deletia, d it郖如昨匡欢已
and serializes contents between sessions. 
27◼结构化分析方法最初只是 着眼于数据流 ，自顶向下 ，逐层分
解，建立系统的处理流程，以数据流图和数据字典为主要工
具，建立系统的逻辑模型。
◼将建模技术扩展到 数据建模 、功能建模 和行为建模 ，以实体 -
关系图、数据流图和控制流图、状态 -迁移图为工具，数据字
典为核心，从不同视点建立系统的分析模型。3.4.1 结构化分析方法_ 
28结构化分析的分析模型
实体 —
关系图
状态 —迁移图
数据
流图数据对象描述 加工规格说明
数据
字典
控制规格说明
29数据建模
◼需求分析阶段，按照 用户的观点 描述数据对象和它们之间的关系 。
建立的模型是概念性数据模型，又称 信息模型 。
◼描述数据模型的工具： 实体-关系图
◼数据模型包括三种互相关联的信息：
✓数据对象 ，
✓描述对象的属性 ，
✓描述对象间 相互连接的关系。_ 
30实体-联系图
◼数据对象 是对软件必须理解的复合信息的抽象。仅有单个值的事物
(例如，宽度 )不是数据对象。数据对象可以是外部实体、事物、行为、
事件、角色、单位、地点或结构等。表示为 矩形框。
◼属性定义了数据对象的性质。根据对所要解决的问题的理解，确定特
定数据对象的一组合适的属性。表示为 椭圆形或圆角矩形 。
◼关系是数据对象彼此之间相互连接的方式，也称为联系（ 1:1；1:N；
M:N）。表示为 直线。_ 
31数据建模举例
◼例如，在教学管理中，一个教师可以教授零门、一门或
多门课程，每位学生也需要学习几门课程。因此，教学
管理中涉及的对象有学生、教师和课程。_ 
32
姓名
, / 
教工号职称 姓名
尸二尸系
成绩
课程号 ll课名 II学时 II学分
33▪实例的关联有三种：一对一  (1:1) ；一对多  (1:m) ；
多对多  (n:m) 。
▪实例的关联称为“基数”，基数表明了“重复性”。教师 学生教授基数 :一位教师                       基数 :多位学生
参与度 :必须            参与度 :可选l l 
t l 
34X Y一个 X与一个 Y相关联
一个 X与一个或多个 Y相关联 X Y
一个 X与零个或一个 Y相关联 X Y
一个 X与零个 , 一个或多个 Y相关联 X Y
一个 X与一个 Y或Z相关联 XY
Z
一个 X与一个 Y与Z相关联 XY
Z
35教学数据模型
学号    姓名    专业    性别    ……
学生职工号
姓名
专业
职称
年龄教师
课程号    课程名    学分    学时
    
……课程 学号
课程号
成绩选课
_ 
36图书馆的 ER图

37
宠物店
38功能建模和数据流图
◼最初 ,结构化分析方法仅讨论数据流建模，目标系统被表示成如图
所示的数据变换流程图。系统的功能体现在核心的数据变换中。
外部实体
外部实体外部实体
外部实体目标
系统
输入信息输入信息 输出信息
输出信息
39行为建模
◼行为建模给出需求分析方法的 所有操作原则 ，但只有
结构化分析方法的扩充版本才提供这种建模的符号。
◼数据流图 不描述时序关系 ，控制和事件流通过 行为模
型描述。
◼描述系统行为的工具： 状态图。_ 
40状态图
状态图通过描述系统的 状态，以及引起系统状态转换的 事件来表
示系统的行为。
✓状态
任何可以被观察到的 系统行为模式 ,它状态规定了系统对事件
的响应方式。既可以做动作，也可以改变系统本身的状态。一张
状态图中只能有一个初态，终态则可以有 0至多个。
✓事件
事件是在 某个特定时刻发生的事情 ，它是对引起系统做动作或
状态转换的外界事件的抽象。_ 
41状态图表示法
初态用实心圆表示，终态用一对同心圆表示，中间状态 用圆角矩形
表示。状态图中两个状态之间带箭头的 连线称为状态转换 ，箭头指明
了转换方向。
状态 l 状态2
初始事件 状态变量 1事件表达式 状态变量 2结束事件
活动表 l 活动表 2
42状态图举例
t2t3
t4t1运行
就绪等待
t4S2 t3t2S3 t1事件状态S1S2S3
S1
S1
处理器分配的进程状态迁移S2
S3S1
43
电话系统的状态图才圭断电话
娄父＊
忙音
do/ IT向忙音闪笘
l / 
空起听筒
拨号音
timer=O 
do／晌拨号音
目增加ti 1ner
婴艾宁：
拨号
| / 无效号码
有效号四
接通中
do/试接通
已接通
,、
振铃
do／折祥令
妥：话人同话
通话
| / 挂断电话
超时
do／响蜂呜音
存储的信息
do/播放信息
估息插亢
受话人杜断电话
挫斤乡戈
44咖啡机的状态图
完成
、心丘一成二二适到达
障/|—故＼
现章发＼3 故现发打奶泡完成
发现故障故障解决
45Petri网(自学 )
◼Petri网已广泛地应用于硬件与软件系统的开发中，它适用
于描述相互独立、协同操作的处理系统，也就是 并发执行
的处理系统 。
◼Petri网简称 PNG (Petri Net Graph) ，它有两种结点：
✓位置：符号“ ○”，表示系统 状态。
✓转移：符号  “|”, 表示系统中的 事件。 
✓有向边“ →”表示向转移的输入 ，或从转移的输出 。_ 
46✓标记，或称令牌  (token )，是表明系统当前处于什么状态的
标志。
▪Petri网可能的变化有：
『－『 --+ 
•l O O O 0 
激发前 激发后 激发前 激发后
(a) (b) 一吵
0 0 
激发前 激发后
(c) 。
不能激发
(d) 
47p1
p2
p3p4
p5p7
p6t1
t2t3t4
t5t6等待R 等待R R空闲
处理11
处理12处理21
处理22进程1 进程2
48◼一种有效驾驭风险的技术。通过原型
✓可以增进软件者和用户对系统服务需求的理解，使比较含糊的具有不
确定性的 软件需求（主要是功能）明确化 。
✓可以容易地确定 系统的性能 ，确认各项主要系统服务的可应用性 ，确
认系统设计的可行性，确认系统作为产品的结果。
✓有的原型可以直接成为产品，有的略加修改就可成为最终系统的一个
组成部分。3.4.2 快速原型（ prototyp e）化方法_ 
491)探索型：
  目的是要弄清对目标系统的要求，确定所希望的特性，并
探讨多种方案的可行性。
2)实验型：
  这种原型用于大规模开发和实现之前，考核方案是否合适，
规格说明是否可靠。
3)进化型：
  这种原型的目的不在于改进规格说明，而是将系统建造得
易于变化，在改进原型的过程中，逐步将原型进化成最终
系统。1. 原型分类_ 
50
Description of why a driving 
decision was taken
Position, velocity, acceleration 
of ego car and other carsUsing this data, we 
can build metrics 
to characterize
scenarios. Metrics 
can be used as 
fitness functions!探索型原型（马自达项目）
I::f?}? ：一；l?；：？？：8:：之；之乏之°？之 91之：；：：：。之？ ：？；？之？°？竺
|:::?}? ：一；1:；：：：：7:：＝6?之二°之：：：：6:：。之：09:！；？之°??°
51
实验型原型（一院项目）
. 腻归X.“腻。氏重、“, O,V滇勺 其“伽箕 0氏其“已其 IG • X O ·｀置 U其0x 0，仆腻 ． 其口，其 ．．俨谓贮· 十
~ C ·”“”“'`'”'八心了＿、心比盯，心主＂ C ，心E,_.“'”“ 、四，印 l`山－－ ＿－＿＿．，＂＇砂．心心．＂命`、 &U,N 息m=X，歹一气屯 妇，•••o•□•ao 
寸宣-- "心一. ` " 勹一拿 …口
口口 吓配r.
a-E ．一
巨：置冒：置巨罩
又
gClm 
诫五爪例t点
口贮罩配霪 一
配口
Cl口二
口一一
口ICIICII 
口巨：冒昌墨．
ls,.心,l
9
-“
五
65
-9
-3
-“
-3
-“云五五屯
3
-9
－压L 深度理化学习谔尹 且仵
，静分＇折玉仵 匡“忘＇方扩，红L知心J点
, 样）了分扩计 工2和过对 象 | 至无l 
, 钤芯主
b 运行环境捡至 ，杯饭象名杯茶涟对象所在吕云 却
; , 甲 ．竺舌觅
，动一件 2 
, 动态浏试任 务和竺忠 ｀垃主 3 
, 洌妇 4 
浏试吊仇煜评价 5 
剽伊 片痴 6 
浏试吊伊 I王刊芯十4平评估 , 
, 
兮
”) 
I< < 1/s > >I共5页－示10
说明 （1)－匡 硝定，容红脉 ，任务钮睬扣钰咚定．
(2) IL勺立比 如已心＇也勹，三行屯竺宝 ，景吐扭 ，关联屠目士辖罕扛沺谗．
节莞强化学习 仵
静疽行 孛抒＊竺
钤和分扩，江 今1L－沁女 | 窃l 
铮态军竺
运行环境捡至 ，许一杯静至归 泾作 静中竺点亏
i i 执行 、编兰、复科兰至若 ＿逆涂
动范沮磁忤 , 2 
1，冲刊 1r任务和位怂..J士 1 3 
贾试兄仔佐延 , , 
浏伊烂评价 2 5 
测试吊例 雯执行 , , 
测伊 I玉刊｝产吉平评估 2 , 
3 a 
4 , 
4 " I<< 1/s > >I共5贡 刁10互屯屯
9
-“
五
一”
一兰毛迻立还
玲
52
主 界 面客户端（UAV
）状态
仿真任务列表进化型原型（南航项目）
多无人叽协同 控制
辔园西 II,；；；品谥PRMe J O 
文呻 概虾 ｝妇O氓IYl 烙秉(B) I旦CD密口 111')舅劝也 ）
仿真任务 u x I ／唔君石页
名京新111... }亮圾．
仿夏滇己 仿夏名称 常用的揉作 功吨列表
帮助
，： ，＂ 」
视图
开叽 1拭绪` a LJ LJ □ □ 
| 上一步(P ) I[下一步竺—」 I 取肖(C)1 1 开始仿真(S )1 
53
选择类型及模式多无人叽协同 控制
辔园西 II,；；；品谥PRMe J O 
呻""'(i) 也砌 氓IYl 烙秉(B) I旦CD密口 111')舅劝也 ）
文务 Ill...八圾． ux厂吓沺肛4古吐呻
仿夏滇已 仿夏名称 常用的揉作
任务类型描述
帮助
气1l -"' d 
I` ｀匝二/0 ► ►I 
视图显示
规划结果协同侦察与监视 协同攻击 SEAD 协同搜索
选择任务运行阶段
团孕 豆
任务分配 航迹规划
选择任务执行类型
@ 硬 e 
静态（环境已知） 实时（环境未知）
航铭点坐Ill选择任务分配迈计茛模式选择航迹规划计豆模式
＠孕 e顽 ＠孕 e 
集中式 分布式 集中式 分布式
上一步~)| 下一步1)1) 归(C)II 开始仿真(S II 视图
开叽 1拭绪` a □ 
| 上一步(P) I[下一步竺—」 I 取肖(C)1 1 开始仿真(S) 1 
54
选择算法多无人机协同
购志西冕；；；；；谥PRMt!"Ia o 
吐仿真设量向导---
第1/5步：设匣任务类型
任务分配茛法描述
II选:::.I I~哩哩电电毛电星 II
帮助任务分配算，去任务分配算去任务分 3配算法任务分 4配算法任务分 5配算法任务分 6配算志
m 
孕马
选择任 1111任务分配算法任务分配算法
7 廿．8888888.
选择航迹规划算志
.... 孕孕孕孕孕孕航迹规划算志描述
妞点编号 航路点坐 II选择任 I||夭视图
己路径规划算法路径规划算法路径规划算法路径规划算法路径规划算法跄径规 6划算法
厂m 
孕孕孕开．叭. 也 ItL| 1111 
路径规划算志路径规划算志路径规划算，去
上一叫 Ill| 7 8 9 
II 开始仿真 6)| II1 | 上一步(J)II 下一步(l!) I 取消(C)
| 上一步0) IL下一步竺—-| I 取消(C) 1 1 开始仿真(S)| 
55
设置场景场景列表场景预览多无人叽协同
辔园西 II,；；；品谥PRMe J O 
呻""'(i) 也砌 氓IYl 烙秉(B) I旦CD密口 111')舅劝也 ）
气：｝气夏郅＂厂：：勹了百兰匣任务类型
气1l -"' d 
I` ｀匝二/0 ► ►I 
视图显示
规划结果
开叽 1拭绪` a 帮助
航铭点坐 ＂＇第2/5步：设匮算，去
选择任第3/5步·设匣场景
言
选择
选择任“'仑
场景描述
I 上一步(J>) II 下一步O)1 场景名称
| 上一步(P) I[下一步竺—」I 职，肖(C) 11 开始仿真 6)| 
I 取肖(C)1 1 开始仿真(S) 1 
56
设置飞行任务多无人叽协同 控制
辔园西 II,；；；品谥PRMe J O 
呻""'(i) 也砌 氓IYl 烙秉(B) I旦CD密口111')舅劝也 ）
气：｝气夏郅＂厂：：勹了百兰匣任务类型
帮助
务任一丁,f 飞建g归
场
tt
-
O
·
-三, 星谓~任择选
飞行任务类型
气1l -"' d 
I` ｀匝二/0 ► ►I 
视图显示
规划结果选择
航铭点坐＂＇选择任“'仑
开叽 1拭绪` a ~ I 221000001 —221000002 
D I 221000003 ~I 221000004 
221000005 
221000006 
飞｝于任务描述
，如
| 上一步 IP)| | 下一步氓） 1 I 取消(C)1 1 开始仿真[S)| 
| 上一步(P) I[下一步竺—」 I 取肖(C)1 1 开始仿真(S) 1 
57
演 示
演 示多无人叽协同 控制
辔园西 II,；；；品谥PRMe J O 
呻""'(i) 也砌 氓IYl 烙秉(B) I旦CD密口 111')舅劝也 ）
气：｝气夏郅＂厂：：勹了百兰匣任务类型
第3/5步·设匣场景
帮助
场景列表
选择任II 111目詈§匣飞行任务
气1l -"' d 
I` ｀匝二/0 ► ►I 第5/5步·设匣仿真显示
l 视图显示
规划结果视图 视图 视图 视图
开叽 1拭绪` a □□□□ 
| 上一步(P) I[下一步竺—」 I 取肖(C)1 1 开始仿真(S) 1 
582. 原型使用策略
◼软件原型支持需求工程的两项活动：
✓需求获取
✓需求有效性验证
◼其他用途：
✓用户培训
✓系统测试
◼原型开发主要分类：
✓进化式原型开发
✓抛弃式原型开发_ 
591）进化式原型开发
◼基本思路是：先给出一个系统的最初实现，让用户去使用和评价，
不断进行细化和改善，经过多次这样的反复过程后形成最终的完善
的系统。开发抽象描述 建立原型系统 使用原型系统
系统充分吗 ? 交付系统否
是_ 
602）抛弃式原型开发
◼基本思路是：原型的根本作用是弄清楚需求和为风险评估提供补充
信息。通过评估后，原型被抛弃，重新规划和实施系统的开发。框架需求 开发原型 确定系统 评估原型
开发软件问题可
验证系统
问题可交付的软件系统可复用构件
_ 
613. 原型开发技术
1)可执行规格说明
2)基于场景的设计
3)自动程序设计
4)专用语言
5)可复用的软件
6)简化假设_ 
623.4.3 其它需求分析工具
◼层次方框图
  用树形结构 的一系列多层次的矩形框 描绘数据的层次结构 。
树形结构的顶层是一个单独的矩形框，它代表完整的数据结构，
下面的各层矩形框代表这个数据的子集，最底层的各个框代表
组成这个数据的实际数据元素 (不能再分割的元素 )。_ 
63
◼层次方框图例子  
一－口
广一日口
64◼Warnier图
    
信息层次结构的另外一种图形工具。
Warnier图也用树形结构描绘信息，比层次方框图提供了更丰
富的描绘手段。它可以指出一类信息或一个信息元素是重复
出现的，也可以表示特定信息在某一类信息中是有条件地出
现的。
可以将 Warnier图转变成软件设计的工具。_ 
65◼Warnier 图举例
    
    
操作系统 (Pl)
系统软件八编译程序 (P2)
（编辑程序 (P3)
应用软件 l设计辅助工具 (P5)
66◼IPO图  
 IPO图是输入、处理、输出图的简称， IBM公司发展完善
起来的一种图形工具，能够方便地描绘输入数据、对数据的
处理和输出数据之间的关系。
左边框中列出有关的输入数据， 中间框列出主要的处理，
在右边的框 内列出产生的输出数据。处理框中列出处理的次
序暗示了执行的顺序，用类似向量符号的粗大箭头清楚地指
出数据通信的情况。_ 
67◼IPO图举例
   
主文件更新的 IPO图表示输人
旧的主文件
事务文件处理
1.校验
主记录
2.校验
事务记录
3.更新
主记录输出
有效的
主记录
有效的
事务记录
更新后的
主文件
683.5需求描述与评审
◼又称需求规格说明 或需求规约 。
◼需求定义的主要目的是分析 需求草稿和模型 ，解决其
中存在的二义性和不一致性， 系统地准确地表达系统
需求，形成需求规格说明 。包括
✓ 系统应提供的功能和服务；
✓ 非功能需求；
✓ 系统开发或运行的限制条件；
✓ 与系统互连的其他系统的信息。_ 
69◼软件需求规格说明的基本原则 (1979,Balzer & Goldman 提
出)：
①功能与实现分离， 描述要“做什么”而不是“怎样实
现”。
②要求使用面向处理的规格说明语言，从而得到“做什
么”的规格说明。
③如果目标软件只是一个大系统中的一个元素，那么 整
个大系统也包括在规格说明的描述之中 。
④规格说明必须包括系统运行的环境 。1. 需求规格说明的原则
70⑤系统规格说明必须是一个认识的模型，而不是设计或
实现的模型。
⑥规格说明必须是可操作的 。
⑦规格说明必须容许不完备性并允许扩充。
⑧规格说明必须局部化和松散的耦合。当信息被修改时，
只要修改某个单个的段落，能够很容易地加入和删去
一些段落。
71需求规格说明的内容与格式
◼通常用自然语言 完整、准确、具体地描述系统的数据要求、功
能需求、性能需求、可靠性和可用性要求、出错处理需求、接
口需求、约束、逆向需求以及将来可能提出的要求。
◼形式化方法 描述用户对软件系统的需求 ,可以消除用自然语言
书写的软件需求规格说明书中可能存在的不一致、歧义、含糊、
不完整及抽象层次混乱等问题。
72基于 IEEE 830 改写的规格说明模板格式：
a.引言
a.1 目的
a.2 文档约定  
a.3 预期的读者和阅读建议
a.4 产品的范围
a.5 参考文献_ 
73c.外部接口
     c.1 用户界面
     c.2 硬件接口
     c.3软件接口
     c.4通信接口
d.系统特性
    d.1 说明和优先级
d.2 激励／响应序列
d.3 功能需求e.其他非功能需求
     e.1 性能需求
     e.2 基本设施需求
     e.3安全性需求
     e.4软件质量属性
     e.5业务规则
     e.6 用户文档
f.其他需求
附录 A:词汇表
附录 B:软件需求分析模型
附录 C:待确定的问题
74◼又称需求评审。需求评审的目的是确保需求编写正确。通常需要从
一致性、完整性、现实性和有效性四个方面验证需求的正确性。
◼审查的内容包括：
1)系统定义的目标是否与用户的要求一致 ；
2)需求分析阶段提供的 文档资料是否齐全 ；
3)文档中的所有描述是否完整、清晰、准确反映用户要求；需求验证
754)与所有其它系统成分的重要接口是否都已经描述；
5)主要功能是否已包括在规定的软件范围之内 ，是否都已充分
说明；
6)软件的行为和它必须处理的信息 、必须完成的功能是否一致；
7)设计的限制条件是否符合实际；
8)是否考虑了开发的技术风险；
9)是否详细制定了检验标准 ，它们能否对系统定义是否成功进
行确认；_ 
76◼验证需求的方法与工具
✓一致性   自然语言书写的规格说明书只能依赖 人工技术审查验证 。
当需求规格说明书是用形式化的需求陈述语言书写时，则存在自
动化验证工具。
✓完整性与有效性   需要用户的密切合作，比较现实的方法是开发
原型系统验证。
✓现实性   参照以往开发类似系统的经验，分析用现有的软、硬件
技术实现目标系统的可能性 ;或通过仿真与性能模拟进行辅助分析。_ 
77
形式化验证
◼模型检测（ Model Checking ）
pecification 
(System Property) Answer: Yes 
7 
783.6 需求管理
◼需求管理就是对系统 需求变更 了解和控制的过程。它包括一组帮
助项目组在任何阶段、任何时候去 标识、控制和跟踪需求的活动。
◼需求标识 应能唯一确定每个软件需求。常用的需求标识方法包括：
✓序列号    例如 SRS-13。该方法不提供任何相关需求在逻辑上或层次上的区
别，不提供任何有关需求内容的信息。  
✓层次化编码   例如 3.2.4.3。不提供任何有关需求内容的信息。改进的方法：
需求主要部分层次化 +文字代码_ 
79
◼变更管理  (或变更控制 ) 规定了如何处理需求变更的策略和过程。
✓问题分析和变更描述   应如何提交一个需求变更请求？
✓变更分析和成本分析   如何分析需求变更对范围、进度和成本的影响？
✓变更实现   如何批准或驳回需求变更？如果批准了变更，该变更如何实现？
识别斟 修正片
的问题问题分析利 变贵分析利
变匣实玑的霄求
... 迦 、三 、
瞿
变更描述, 
威本计算，一 ，一
80◼当变更发生的时候，必须追踪这些变更对其它需求和系统设计的
影响。
◼可跟踪性反映了发现相关的需求的能力。三类可跟踪性需要维护，
可采用需求跟踪表 来记录。
✓源追溯性信息  提出需求的相关人员和需求的基本原理
✓需求可追溯性信息  当前需求彼此依赖的需求
✓设计可追溯性信息  实现当前需求的设计模块
尽性, 优先级
笞求 , 状态 成本眭 稳定度 肆目标 追溯来祖
吾求1I 2 
吾求2
Ill Ill Ill Ill 111 Ill 111 111 
吾求n3 
813.6 需求规格说明例
文档代号：阶段： I2 I 1 
软盘编号 ： 密级 ：
（产品代号）
强化学习测评工具软件需 求规格说明
编写 张逍冶 、李嘉鹏 、诸郑翰 、石兵
校对 张逍冶 、蒋伟
审核郑征
标审
批准1 范围
1.1标识
a)文档标识号 ：BH_RL_EVA_SRS ;
b)软件名称及标识：强化学习测评工具， BRE ;
c)软件缩咯名：无；
d)本文档适用的系统：智能测汗工具链－强化学习测许工具 ；
e)文档版本： Vl.0. 0。
1. 2系统概述
程化学习测评工具的王要功能是在智能软件系统设计开发阶段提供测评工具和测评服
务。组件包含随机测试用例生成、测试用例执行等 23个功骁模块（如图 1所示），可以支
持强化学习算法的全方位测许，销够有 效支撑强化学习算法及软件的单元测试 、训练过程测
试、模型测试 以及系统测试等环节 。系统交付后 ，项目组成员应针对具体对象提供测许支持 ，
并持续性的针对具体任务与仿真平台 、训练平台开 发特定API和测试用例。图 2展示了强化
学习测评工具所完成的王要使用流程 。
82
il发试源扑坟测Jf
－．
测资
－．
支环I U扣，仿其平介测｀”“Ji.可 1是F诃终平（，细劝 1叫
|...”“”“1 "T慢化忤＂功毓
竺竺
牧薹＇』慢勺配．功筐
亡…玉勹 I•••• | I •••• l I 圃认禺侗执',| 
一调试膺例，f价功筐
C亘．三 L斗a，已J
I.氐···',·| 
输人伉息
·算丛文件
．＂疗文并
．釭昙文科
．初始测试角例
．环嘈切养动，，剽试功幔尸认用侧的 1"'石
气I,”“ 鲁·1 
霄仗阳例勺山＇，必挣均鼠
I氯偶复么嘲夤 "ll,己已：i
I..”“'“”“ 
l ·”“”, I l ···心·,· 1 
闪thon 姓n云iI 
图1强化学习 测评工具结构图
动芯测试
．欢嘻与槽匀叩 , 测试闸例生托与选戌
} 
, 测试月，伽行
} 
酮Ilh暑净估壳试用＂，价
字 口动态绸议可夜化 管重_ -测试用例执行
测试用侨汗价
钢可切圃评估
共76贞第16贞
a)在攸视 1l系统正常运行的情况下 ，能够局之 交可执行 ．
b)可支持加载的主流强化 学习杖型不少于4类，包含但不阳于DQN、Actor-cr itic、DDPG 、
PPO等．
c)可支持加载的支撑训练推理的数据格式不少 十4种，包括不仅限于代码文件、 PyTorch
的pt h橾型文件、杅能体对象p k!文件、以及面向 IIl务的AP!接n等．功能需求 ：
测试用例 执行功能的需 求描述表见下表所 示。
序号 名称 描述
1 需求标识 BRE SRS DTCS 3 
l)能够对已训练的智能体进行加载。
2)能够对强化学习环境进行 加载
3)支持记录测试用例执行的状态。
2 功能需求4)支持记录测试用例的输出结果与回报值等信息。
5)在测试完成后，返回测试用例的失效信息。
6)允许用户将执行信息和结果保 存到日志中。
7)支持环境参数设翌，如环境初始 化、状态重置等。
8)针对蜕变测试方法 ，计莽并记录蜕变关系的违反信息 。
3 前置条件 用户通过测试用例生成功或测试用例选择功能生成 ／选择了测试用例 集。
4 触发条件 用户执行测试用例 执行命 令。
5 功能参与者 用户、动态测试工具包。
6 异常处理环境及智能体是否 加载成功、测试用 例是否加载成功、测试用例运行时有
无异常 、测试结果是否保存成功。
7 后置条件 存储排序选择 后的测试用例子集。
8 显示约束满足条件时显示测试用例执行按钮，执行过程中显示进度，实行 完毕时显
示提示执行完毕的对话框。
9 其他需求 无表6测试用例执行功能描述表
输入输出：
测试用例执行功能涉及的外部输入输出 信息见下表。
序号 信息项 输入 ／输出 输入 ／输出对象
I 环境信息 输入 动态测试工具包
2 智能体信息 输入 动态测试工具包
3 待执行崩试用例集 输入 动态测试工具包
4 包含执行信息的测试用
输出 用户例集表7测试用例执行功能输入输出 信息表
处理流程 ：
1、用户指 定一个已经生成或选择排 序后的测试 用例集。
2、用户点 击测试用例执 行按钮。
3、用户执 行刹试用例 执行命令 ，动态测试工具开始执行测试用例 ，包并显示执行进度。
4、动态测试工具在 测试用例执 行完毕后，显示“ 执行完毕”提示信息。
5、动态测试工具存储测试 用例执行 结果。
83
class 动态测试可视化管理领域模型
被测对象
测试用例生成
测试用例评价鲁棒性评估测试结果评估报
告
测试用例评价报
告随机测试用例生
成蜕变测试用例生
成模糊测试用例生
成
自适应随机测试 测试覆盖优先级
排序测试用例集
测试结果评估测试用例集执行
训练及推理效率
的评估测试用例集测试
结果
测试用例选择 /排序动态测试任务
0..1
0..1
0..10..1 0..1
0..10..10..1 0..1
0..10..10..1
0..11
0..10..1
领域模型 接口模型强化学习测评平台
动态测试可视化管理模块 智能测试主平台
动态测试模块 环境组件
文件系统
84需求追溯表
5 需求可追踪性
强化学习测评工具需求跟踪情况如下表所示。
表74软件需求规格说明需求跟踪表
索引 孟求规格中的盂求名称 盂求卒节 任务书中的要求 要求卒节
动态测试功能 4. I. 2 
动态调试性能指标 4.2.2 
1 BRE_SRS_DTCS_OOl／测试用例3 2 I. I 输入要求 4. 3. 1 
生成 输出要求 4.3.2 
数据管理 4. 4. I 
数据交互管理 4.4.2 
2 BRE SRS DTCS 002／测试用例 3 2 I. 2 动态剌试功能 4. 1. 2 
更改标记 更改单号 签字 日期
共76页第 72页
选择／排序 动态测试性能指标 4.2.2 
输入要求 4. 3. 1 
输出要求 4.3.2 
数据管理 4. 4. 1 
数据交互管理 4.4.2 
动态测试功能 4. I. 2 
动态浏试性能指标 4.2.2 
3 BRE_SRS_DTCS_003／测试用例3. 2. I. 3 输入要求 4. 3. 1 
执行 输出要求 4.3.2 
数据管理 4. 4. 1 
数据交互管理 4.4.2 
动态测试功能 4. I. 2 
动态刹试性能指标 4.2.2 
85作 业 一
◼画下列系统的实体关系图：
某电商公司需设计一个电商服务平台。该平台支持以下功能。
✓平台用户能够浏览商品、将商品加入购物车、管理购物车（增删改数量）、下
单、使用优惠券支付、查看订单状态（如待支付、配送中、已完成）等。
✓平台商户能够上架 /下架商品、接受 /拒绝订单、更新商品库存、标记订单为“
已发货”或“已完成”。发布促销活动（如满减、折扣券）、设置商品推广排
名（如竞价排名）。
✓骑士能够接收配送任务、更新订单的实时配送状态（如“已取货”“配送中
”“已送达”）。
✓平台管理员能够审核商户资质、处理订单纠纷（如退款申请）、监控平台运行
状态（如商品违规下架） 。_ 
86作 业 二
◼绘制智能仓储机器人系统状态图，
✓某自动化仓库使用多台（自动导引车）机器人完成货物搬运，机器
人需实现状态的合理调度。系统需支持以下行为：
➢待命、充电中、执行任务中、路径阻塞、故障、检修中
✓请合理设计状态的属性及状态转移过程，绘制系统的状态图_ 
87小 结
◼需求分析的目标是清楚地理解所要解决的问题，完整地获取
用户要求，结果是建立 需求分析模型 和软件需求规格说明 。
◼需求分析是 发现、求精、建模、规格说明和复审 的过程。常
用的需求获取技术包括 访谈，面向数据流自顶向下逐步求精，
快速原型化方法 。
◼传统的软件工程方法学中， 结构化分析技术 通常建立 数据模
型、功能模型 和行为模型 。_ 
谢    谢
主讲人：张逍怡
计算机与通信工程学院青年论坛 报告_ —八厂
